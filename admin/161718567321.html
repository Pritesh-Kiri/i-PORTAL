<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="styles.css" />

    <link
      rel="apple-touch-icon"
      sizes="256x256"
      href="https://www.unschool.in/img/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      href="https://www.unschool.in/img/apple-touch-icon.png"
      sizes="256x256"
    />
    <link
      href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css"
      rel="stylesheet"
    />

    <title>Internship Admin Panel | Unschool</title>

    <style></style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg">
      <div class="container-fluid nav-section">
        <a class="navbar-brand" href="#"
          ><img
            width="110"
            height="28"
            src="https://www.unschool.in/static/Unschool%20Logo%20Horizontal%20White%20(1)-34c0564e7a6f83682d9197a2d32b162e.png"
            alt="Unschool_logo"
        /></a>
      </div>
    </nav>
    <div class="herosection skewed">
      <div class="hero-content">
        <h1>Admin panel</h1>
      </div>
    </div>
    <section class="category__section section skewed-3" id="category_category">
      <h1>Our Internships</h1>
      <div class="tab__list">
        <div class="title__container tabs">
          <div class="section__titles category__titles">
            <div class="section__title filter-btn active" data-id="All">
              <span class="dot"></span>
              <h1 class="primary__title">All</h1>
            </div>
          </div>
          <div class="section__titles">
            <div class="section__title filter-btn" data-id="Finance">
              <span class="dot"></span>
              <h1 class="primary__title">Finance and Accounting</h1>
            </div>
          </div>

          <div class="section__titles">
            <div class="section__title filter-btn" data-id="Management">
              <span class="dot"></span>
              <h1 class="primary__title">Management</h1>
            </div>
          </div>

          <div class="section__titles">
            <div class="section__title filter-btn" data-id="Marketing">
              <span class="dot"></span>
              <h1 class="primary__title">Marketing</h1>
            </div>
          </div>

          <div class="section__titles">
            <div class="section__title filter-btn" data-id="Design">
              <span class="dot"></span>
              <h1 class="primary__title">Design</h1>
            </div>
          </div>

          <div class="section__titles">
            <div class="section__title filter-btn" data-id="Technology">
              <span class="dot"></span>
              <h1 class="primary__title">Software and Technology</h1>
            </div>
          </div>

          <div class="section__titles">
            <div class="section__title filter-btn" data-id="Coding">
              <span class="dot"></span>
              <h1 class="primary__title">Coding and Development</h1>
            </div>
          </div>

          <div class="section__titles">
            <div class="section__title filter-btn" data-id="Arts">
              <span class="dot"></span>
              <h1 class="primary__title">Arts and Humanities</h1>
            </div>
          </div>
        </div>
      </div>
      <div
        class="container category__container"
        data-aos="fade-up"
        data-aos-duration="1200"
      >
        <div class="category__center"></div>
      </div>

      <div id="view-all-btn">
        <h2 class="view-btn view-num" id="viewme" data-id="view-all-8">
          View All
        </h2>
        <h2 class="view-btn view-num" id="viewme2" data-id="view-all-8">
          View Less
        </h2>
      </div>
    </section>

    <div class="container-fluid calender-section skewed-2">
      <h1>Internship Details</h1>
      <div class="card-container">
        <div>
          <label>Apply-by</label>
          <input id="apply_by" type="text" placeholder="i.e. 22nd April 2022" />
        </div>
        <div>
          <label>Apply_link</label>
          <input id="apply_link" type="text" placeholder="Apply-link" />
        </div>
        <div>
          <label for="category">Category</label>

          <select name="category" id="category">
            <option value="Technology">Technology</option>
            <option value="Coding">Coding</option>
            <option value="Finance">Finance</option>
            <option value="Management">Management</option>
            <option value="Marketing">Marketing</option>
            <option value="Design">Design</option>
            <option value="Arts">Arts and Humanities</option>
          </select>

          <!-- <input
            id="category"
            type="text"
            placeholder="Technology,Management etc."
          /> -->
        </div>
        <div>
          <label>Company</label>
          <input id="company" type="text" placeholder="Company name" />
        </div>
        <div>
          <label>Duration</label>
          <input
            id="duration"
            type="text"
            placeholder="i.e 3 months, 6 months etc."
          />
        </div>
        <div>
          <label>id</label>
          <input
            id="internship_id"
            type="text"
            placeholder="Unique intenship id"
          />
        </div>
        <div>
          <label>Image Url</label>
          <input id="image_url" type="text" placeholder="Image URL" />
        </div>
        <div>
          <label>Internship Info</label>
          <input
            id="i_info"
            type="text"
            placeholder="Internship or Internship with PPO"
          />
        </div>
        <div>
          <label>Joining</label>
          <input
            id="joining"
            type="text"
            placeholder="Immediate or within few weeks"
          />
        </div>
        <div>
          <label>Stipend</label>
          <input id="stipend" type="text" placeholder="Stipend(INR)/month" />
        </div>
        <div>
          <label>Job Title</label>
          <input id="job_title" type="text" placeholder="Job title" />
        </div>
        <div>
          <label>Type</label>
          <input id="type" type="text" placeholder="WFH or in office" />
        </div>

        <hr />
        <br />

        <div class="control-btns">
          <div>
            <button id="insbtn">ADD</button>

            <button id="selbtn">EDIT</button>
          </div>
          <div>
            <button id="updbtn">UPDATE</button>
            <button id="delbtn">DELETE</button>
          </div>
        </div>
      </div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>

    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js";
      import {
        getDatabase,
        ref,
        get,
        set,
        child,
        update,
        remove,
      } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-database.js";

      const firebaseConfig = {
        apiKey: "AIzaSyDzRrTrIaJijsEYWRo_jBa4WS7lQWWcTSM",
        authDomain: "internship-portal-73765.firebaseapp.com",
        databaseURL:
          "https://internship-portal-73765-default-rtdb.firebaseio.com",
        projectId: "internship-portal-73765",
        storageBucket: "internship-portal-73765.appspot.com",
        messagingSenderId: "860153485913",
        appId: "1:860153485913:web:fecafcf1f45d861e2baf48",
        measurementId: "G-Z92SW03JEC",
      };

      const app = initializeApp(firebaseConfig);
      const db = getDatabase();

      // -------------------References----------------
      // inputs
      var apply_by = document.getElementById("apply_by");
      var apply_link = document.getElementById("apply_link");
      var category = document.getElementById("category");
      var company = document.getElementById("company");
      var duration = document.getElementById("duration");
      var internship_id = document.getElementById("internship_id");
      var image_url = document.getElementById("image_url");
      var i_info = document.getElementById("i_info");
      var joining = document.getElementById("joining");
      var stipend = document.getElementById("stipend");
      var job_title = document.getElementById("job_title");
      var type = document.getElementById("type");

      // buttons
      var insbtn = document.getElementById("insbtn");
      var selbtn = document.getElementById("selbtn");
      var updbtn = document.getElementById("updbtn");
      var delbtn = document.getElementById("delbtn");

      // -------------------inserting data----------------

      function insertdata() {
        set(ref(db, "products/" + internship_id.value), {
          apply_by: apply_by.value,
          apply_link: apply_link.value,
          category: category.value,
          company: company.value,
          duration: duration.value,
          internship_id: internship_id.value,
          image_url: image_url.value,
          i_info: i_info.value,
          joining: joining.value,
          stipend: stipend.value,
          job_title: job_title.value,
          type: type.value,
        })
          .then(() => {
            alert("data stored successfully");
          })
          .catch((error) => {
            alert("data not stored, error" + error);
          });
      }

      insbtn.addEventListener("click", insertdata);

      // -------------------selecting data----------------

      function selectdata() {
        const dbref = ref(db);

        get(child(dbref, "products/" + internship_id.value))
          .then((snapshot) => {
            if (snapshot.exists()) {
              apply_by.value = snapshot.val().apply_by;
              apply_link.value = snapshot.val().apply_link;
              category.value = snapshot.val().category;
              company.value = snapshot.val().company;
              duration.value = snapshot.val().duration;
              image_url.value = snapshot.val().image_url;
              i_info.value = snapshot.val().i_info;
              joining.value = snapshot.val().joining;
              stipend.value = snapshot.val().stipend;
              job_title.value = snapshot.val().job_title;
              type.value = snapshot.val().type;
            } else {
              alert("no data found");
            }
          })
          .catch((error) => {
            alert("data not selected, error" + error);
          });
      }

      selbtn.addEventListener("click", selectdata);

      // -------------------Updating data----------------

      function updatedata() {
        update(ref(db, "products/" + internship_id.value), {
          apply_by: apply_by.value,
          apply_link: apply_link.value,
          category: category.value,
          company: company.value,
          duration: duration.value,
          image_url: image_url.value,
          i_info: i_info.value,
          joining: joining.value,
          stipend: stipend.value,
          job_title: job_title.value,
          type: type.value,
        })
          .then(() => {
            alert("data updated successfully");
          })
          .catch((error) => {
            alert("data not updated, error" + error);
          });
      }

      updbtn.addEventListener("click", updatedata);

      // -------------------DELETE data----------------

      function removedata() {
        remove(ref(db, "products/" + internship_id.value))
          .then(() => {
            alert("data removed successfully");
          })
          .catch((error) => {
            alert("data not removed, error" + error);
          });
      }

      delbtn.addEventListener("click", removedata);
    </script>

    <script src="../js/products.js"></script>
  </body>
</html>
